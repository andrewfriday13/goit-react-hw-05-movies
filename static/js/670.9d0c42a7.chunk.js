"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[670],{670:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(861),a=n(433),c=n(439),u=n(757),s=n.n(u),i=n(791),o=n(243),l=n(87),h=n(689),f=n(184),d=function(e){var t=e.handleSabmit,n=e.handleChange,r=e.search;return(0,f.jsx)("form",{onSubmit:t,children:(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{search:r,type:"text",onChange:n,autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,f.jsx)("button",{type:"submit",children:" search"})]})})},v=function(){var e,t=(0,i.useState)([]),n=(0,c.Z)(t,2),u=n[0],v=n[1],p=(0,i.useState)(""),m=(0,c.Z)(p,2),b=m[0],g=m[1],x=(0,i.useState)(!1),j=(0,c.Z)(x,2),S=j[0],_=j[1],y=(0,l.lr)(),Z=(0,c.Z)(y,2),k=Z[0],w=Z[1],C=(0,i.useState)(!1),q=(0,c.Z)(C,2),D=q[0],E=q[1],F=null!==(e=k.get("search "))&&void 0!==e?e:"";(0,i.useEffect)((function(){H(b).then((function(e){var t=e.results;return v((0,a.Z)(t))})).catch((function(e){return console.log(e.message)})).finally()}),[S]);var H=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"7140726491bb46cefd66d6c99674ef87",e.next=3,o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("7140726491bb46cefd66d6c99674ef87","&query=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=(0,h.TH)();return(0,f.jsxs)("div",{children:[(0,f.jsx)(d,{search:F,handleSabmit:function(e){e.preventDefault(),H(e.target),_(!S),document.querySelector("input").value="",E(!0)},handleChange:function(e){var t=e.target,n=t.value;if(""===n)return w({});g(n),w({search:t.value})}}),D&&0===u.length&&(0,f.jsx)("p",{children:"Please, change your request"}),(0,f.jsx)("ul",{children:u.map((function(e){var t=e.id,n=e.title;return(0,f.jsx)("li",{children:(0,f.jsx)(l.rU,{state:{from:P},to:"/movies/".concat(t),children:n})},t)}))}),(0,f.jsx)(h.j3,{})]})}}}]);
//# sourceMappingURL=670.9d0c42a7.chunk.js.map